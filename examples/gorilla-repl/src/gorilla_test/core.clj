;; gorilla-repl.fileformat = 1

;; **
;;; # TensorFlow and Gorilla REPL
;; **

;; @@
(ns gorilla-test.core
  (:require [gorilla-plot.core :as plot]
            [clojure-tensorflow.core :refer [run]]
            [clojure-tensorflow.ops :as tf]
            [clojure-tensorflow.optimizers :as optimizers]))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; @@
(def xs (map double (range 3)))
(def ys (map #(+ 2.5 (* % 5)) xs))
(identity ys)
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"html","content":"<span class='clj-double'>2.5</span>","value":"2.5"},{"type":"html","content":"<span class='clj-double'>7.5</span>","value":"7.5"},{"type":"html","content":"<span class='clj-double'>12.5</span>","value":"12.5"}],"value":"(2.5 7.5 12.5)"}
;; <=

;; @@
(plot/list-plot ys)
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"data":[{"name":"1812ba52-44ac-4be0-bc0f-5edc22f11f71","values":[{"x":0,"y":2.5},{"x":1,"y":7.5},{"x":2,"y":12.5}]}],"marks":[{"type":"symbol","from":{"data":"1812ba52-44ac-4be0-bc0f-5edc22f11f71"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"1812ba52-44ac-4be0-bc0f-5edc22f11f71","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"1812ba52-44ac-4be0-bc0f-5edc22f11f71","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :data [{:name \"1812ba52-44ac-4be0-bc0f-5edc22f11f71\", :values ({:x 0, :y 2.5} {:x 1, :y 7.5} {:x 2, :y 12.5})}], :marks [{:type \"symbol\", :from {:data \"1812ba52-44ac-4be0-bc0f-5edc22f11f71\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"1812ba52-44ac-4be0-bc0f-5edc22f11f71\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"1812ba52-44ac-4be0-bc0f-5edc22f11f71\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}]}}"}
;; <=

;; @@
(def m (tf/variable (rand)))
(def b (tf/variable (rand)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;gorilla-test.core/b</span>","value":"#'gorilla-test.core/b"}
;; <=

;; @@
(def x (tf/placeholder :x tf/float32))
(def y (tf/placeholder :y tf/float32))
;; @@

;; @@
(run (tf/global-variables-initializer))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-unkown'>0.65367144</span>","value":"0.65367144"}
;; <=

;; @@
(def line-of-best-fit (tf/add (tf/mult m x) b))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;gorilla-test.core/line-of-best-fit</span>","value":"#'gorilla-test.core/line-of-best-fit"}
;; <=

;; @@
(run line-of-best-fit {:x 4.})
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-unkown'>1.4341159</span>","value":"1.4341159"}
;; <=

;; @@
(let [m (run m) b (run b)]
  (plot/compose
    (plot/list-plot ys)
    (plot/plot #(+ b (* m %)) [0 10])))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"5d9ddf24-150b-4b37-854f-f9605303424f","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"5d9ddf24-150b-4b37-854f-f9605303424f","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"5d9ddf24-150b-4b37-854f-f9605303424f","values":[{"x":0,"y":2.5},{"x":1,"y":7.5},{"x":2,"y":12.5}]},{"name":"63ee214d-c54c-47d2-905e-5026d007d11e","values":[{"x":0,"y":0.6536714434623718},{"x":0.10000000149011612,"y":0.6731825533436404},{"x":0.20000000298023224,"y":0.692693663224909},{"x":0.30000000447034836,"y":0.7122047731061776},{"x":0.4000000059604645,"y":0.7317158829874462},{"x":0.5000000074505806,"y":0.7512269928687147},{"x":0.6000000089406967,"y":0.7707381027499833},{"x":0.7000000104308128,"y":0.7902492126312519},{"x":0.800000011920929,"y":0.8097603225125205},{"x":0.9000000134110451,"y":0.8292714323937891},{"x":1.0000000149011612,"y":0.8487825422750577},{"x":1.1000000163912773,"y":0.8682936521563263},{"x":1.2000000178813934,"y":0.8878047620375948},{"x":1.3000000193715096,"y":0.9073158719188634},{"x":1.4000000208616257,"y":0.926826981800132},{"x":1.5000000223517418,"y":0.9463380916814006},{"x":1.600000023841858,"y":0.9658492015626692},{"x":1.700000025331974,"y":0.9853603114439378},{"x":1.8000000268220901,"y":1.0048714213252063},{"x":1.9000000283122063,"y":1.024382531206475},{"x":2.0000000298023224,"y":1.0438936410877435},{"x":2.1000000312924385,"y":1.063404750969012},{"x":2.2000000327825546,"y":1.0829158608502807},{"x":2.3000000342726707,"y":1.1024269707315493},{"x":2.400000035762787,"y":1.1219380806128179},{"x":2.500000037252903,"y":1.1414491904940864},{"x":2.600000038743019,"y":1.160960300375355},{"x":2.7000000402331352,"y":1.1804714102566236},{"x":2.8000000417232513,"y":1.1999825201378922},{"x":2.9000000432133675,"y":1.2194936300191608},{"x":3.0000000447034836,"y":1.2390047399004294},{"x":3.1000000461935997,"y":1.258515849781698},{"x":3.200000047683716,"y":1.2780269596629665},{"x":3.300000049173832,"y":1.2975380695442351},{"x":3.400000050663948,"y":1.3170491794255037},{"x":3.500000052154064,"y":1.3365602893067723},{"x":3.6000000536441803,"y":1.3560713991880409},{"x":3.7000000551342964,"y":1.3755825090693095},{"x":3.8000000566244125,"y":1.395093618950578},{"x":3.9000000581145287,"y":1.4146047288318466},{"x":4.000000059604645,"y":1.4341158387131152},{"x":4.100000061094761,"y":1.4536269485943838},{"x":4.200000062584877,"y":1.4731380584756524},{"x":4.300000064074993,"y":1.492649168356921},{"x":4.400000065565109,"y":1.5121602782381895},{"x":4.500000067055225,"y":1.5316713881194581},{"x":4.6000000685453415,"y":1.5511824980007267},{"x":4.700000070035458,"y":1.5706936078819953},{"x":4.800000071525574,"y":1.5902047177632639},{"x":4.90000007301569,"y":1.6097158276445325},{"x":5.000000074505806,"y":1.629226937525801},{"x":5.100000075995922,"y":1.6487380474070696},{"x":5.200000077486038,"y":1.6682491572883382},{"x":5.300000078976154,"y":1.6877602671696068},{"x":5.4000000804662704,"y":1.7072713770508754},{"x":5.500000081956387,"y":1.726782486932144},{"x":5.600000083446503,"y":1.7462935968134126},{"x":5.700000084936619,"y":1.7658047066946811},{"x":5.800000086426735,"y":1.7853158165759497},{"x":5.900000087916851,"y":1.8048269264572183},{"x":6.000000089406967,"y":1.824338036338487},{"x":6.100000090897083,"y":1.8438491462197555},{"x":6.200000092387199,"y":1.863360256101024},{"x":6.3000000938773155,"y":1.8828713659822927},{"x":6.400000095367432,"y":1.9023824758635612},{"x":6.500000096857548,"y":1.9218935857448298},{"x":6.600000098347664,"y":1.9414046956260984},{"x":6.70000009983778,"y":1.960915805507367},{"x":6.800000101327896,"y":1.9804269153886356},{"x":6.900000102818012,"y":1.9999380252699042},{"x":7.000000104308128,"y":2.0194491351511727},{"x":7.1000001057982445,"y":2.0389602450324413},{"x":7.200000107288361,"y":2.05847135491371},{"x":7.300000108778477,"y":2.0779824647949785},{"x":7.400000110268593,"y":2.097493574676247},{"x":7.500000111758709,"y":2.1170046845575157},{"x":7.600000113248825,"y":2.1365157944387843},{"x":7.700000114738941,"y":2.156026904320053},{"x":7.800000116229057,"y":2.1755380142013214},{"x":7.900000117719173,"y":2.19504912408259},{"x":8.00000011920929,"y":2.2145602339638586},{"x":8.100000120699406,"y":2.234071343845127},{"x":8.200000122189522,"y":2.2535824537263958},{"x":8.300000123679638,"y":2.2730935636076643},{"x":8.400000125169754,"y":2.292604673488933},{"x":8.50000012665987,"y":2.3121157833702015},{"x":8.600000128149986,"y":2.33162689325147},{"x":8.700000129640102,"y":2.3511380031327387},{"x":8.800000131130219,"y":2.3706491130140073},{"x":8.900000132620335,"y":2.390160222895276},{"x":9.00000013411045,"y":2.4096713327765444},{"x":9.100000135600567,"y":2.429182442657813},{"x":9.200000137090683,"y":2.4486935525390816},{"x":9.300000138580799,"y":2.46820466242035},{"x":9.400000140070915,"y":2.4877157723016188},{"x":9.500000141561031,"y":2.5072268821828874},{"x":9.600000143051147,"y":2.526737992064156},{"x":9.700000144541264,"y":2.5462491019454245},{"x":9.80000014603138,"y":2.565760211826693},{"x":9.900000147521496,"y":2.5852713217079617}]}],"marks":[{"type":"symbol","from":{"data":"5d9ddf24-150b-4b37-854f-f9605303424f"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"63ee214d-c54c-47d2-905e-5026d007d11e"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"5d9ddf24-150b-4b37-854f-f9605303424f\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"5d9ddf24-150b-4b37-854f-f9605303424f\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"5d9ddf24-150b-4b37-854f-f9605303424f\", :values ({:x 0, :y 2.5} {:x 1, :y 7.5} {:x 2, :y 12.5})} {:name \"63ee214d-c54c-47d2-905e-5026d007d11e\", :values ({:x 0, :y 0.6536714434623718} {:x 0.10000000149011612, :y 0.6731825533436404} {:x 0.20000000298023224, :y 0.692693663224909} {:x 0.30000000447034836, :y 0.7122047731061776} {:x 0.4000000059604645, :y 0.7317158829874462} {:x 0.5000000074505806, :y 0.7512269928687147} {:x 0.6000000089406967, :y 0.7707381027499833} {:x 0.7000000104308128, :y 0.7902492126312519} {:x 0.800000011920929, :y 0.8097603225125205} {:x 0.9000000134110451, :y 0.8292714323937891} {:x 1.0000000149011612, :y 0.8487825422750577} {:x 1.1000000163912773, :y 0.8682936521563263} {:x 1.2000000178813934, :y 0.8878047620375948} {:x 1.3000000193715096, :y 0.9073158719188634} {:x 1.4000000208616257, :y 0.926826981800132} {:x 1.5000000223517418, :y 0.9463380916814006} {:x 1.600000023841858, :y 0.9658492015626692} {:x 1.700000025331974, :y 0.9853603114439378} {:x 1.8000000268220901, :y 1.0048714213252063} {:x 1.9000000283122063, :y 1.024382531206475} {:x 2.0000000298023224, :y 1.0438936410877435} {:x 2.1000000312924385, :y 1.063404750969012} {:x 2.2000000327825546, :y 1.0829158608502807} {:x 2.3000000342726707, :y 1.1024269707315493} {:x 2.400000035762787, :y 1.1219380806128179} {:x 2.500000037252903, :y 1.1414491904940864} {:x 2.600000038743019, :y 1.160960300375355} {:x 2.7000000402331352, :y 1.1804714102566236} {:x 2.8000000417232513, :y 1.1999825201378922} {:x 2.9000000432133675, :y 1.2194936300191608} {:x 3.0000000447034836, :y 1.2390047399004294} {:x 3.1000000461935997, :y 1.258515849781698} {:x 3.200000047683716, :y 1.2780269596629665} {:x 3.300000049173832, :y 1.2975380695442351} {:x 3.400000050663948, :y 1.3170491794255037} {:x 3.500000052154064, :y 1.3365602893067723} {:x 3.6000000536441803, :y 1.3560713991880409} {:x 3.7000000551342964, :y 1.3755825090693095} {:x 3.8000000566244125, :y 1.395093618950578} {:x 3.9000000581145287, :y 1.4146047288318466} {:x 4.000000059604645, :y 1.4341158387131152} {:x 4.100000061094761, :y 1.4536269485943838} {:x 4.200000062584877, :y 1.4731380584756524} {:x 4.300000064074993, :y 1.492649168356921} {:x 4.400000065565109, :y 1.5121602782381895} {:x 4.500000067055225, :y 1.5316713881194581} {:x 4.6000000685453415, :y 1.5511824980007267} {:x 4.700000070035458, :y 1.5706936078819953} {:x 4.800000071525574, :y 1.5902047177632639} {:x 4.90000007301569, :y 1.6097158276445325} {:x 5.000000074505806, :y 1.629226937525801} {:x 5.100000075995922, :y 1.6487380474070696} {:x 5.200000077486038, :y 1.6682491572883382} {:x 5.300000078976154, :y 1.6877602671696068} {:x 5.4000000804662704, :y 1.7072713770508754} {:x 5.500000081956387, :y 1.726782486932144} {:x 5.600000083446503, :y 1.7462935968134126} {:x 5.700000084936619, :y 1.7658047066946811} {:x 5.800000086426735, :y 1.7853158165759497} {:x 5.900000087916851, :y 1.8048269264572183} {:x 6.000000089406967, :y 1.824338036338487} {:x 6.100000090897083, :y 1.8438491462197555} {:x 6.200000092387199, :y 1.863360256101024} {:x 6.3000000938773155, :y 1.8828713659822927} {:x 6.400000095367432, :y 1.9023824758635612} {:x 6.500000096857548, :y 1.9218935857448298} {:x 6.600000098347664, :y 1.9414046956260984} {:x 6.70000009983778, :y 1.960915805507367} {:x 6.800000101327896, :y 1.9804269153886356} {:x 6.900000102818012, :y 1.9999380252699042} {:x 7.000000104308128, :y 2.0194491351511727} {:x 7.1000001057982445, :y 2.0389602450324413} {:x 7.200000107288361, :y 2.05847135491371} {:x 7.300000108778477, :y 2.0779824647949785} {:x 7.400000110268593, :y 2.097493574676247} {:x 7.500000111758709, :y 2.1170046845575157} {:x 7.600000113248825, :y 2.1365157944387843} {:x 7.700000114738941, :y 2.156026904320053} {:x 7.800000116229057, :y 2.1755380142013214} {:x 7.900000117719173, :y 2.19504912408259} {:x 8.00000011920929, :y 2.2145602339638586} {:x 8.100000120699406, :y 2.234071343845127} {:x 8.200000122189522, :y 2.2535824537263958} {:x 8.300000123679638, :y 2.2730935636076643} {:x 8.400000125169754, :y 2.292604673488933} {:x 8.50000012665987, :y 2.3121157833702015} {:x 8.600000128149986, :y 2.33162689325147} {:x 8.700000129640102, :y 2.3511380031327387} {:x 8.800000131130219, :y 2.3706491130140073} {:x 8.900000132620335, :y 2.390160222895276} {:x 9.00000013411045, :y 2.4096713327765444} {:x 9.100000135600567, :y 2.429182442657813} {:x 9.200000137090683, :y 2.4486935525390816} {:x 9.300000138580799, :y 2.46820466242035} {:x 9.400000140070915, :y 2.4877157723016188} {:x 9.500000141561031, :y 2.5072268821828874} {:x 9.600000143051147, :y 2.526737992064156} {:x 9.700000144541264, :y 2.5462491019454245} {:x 9.80000014603138, :y 2.565760211826693} {:x 9.900000147521496, :y 2.5852713217079617})}), :marks ({:type \"symbol\", :from {:data \"5d9ddf24-150b-4b37-854f-f9605303424f\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"63ee214d-c54c-47d2-905e-5026d007d11e\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; **
;;; ## Training the model
;; **

;; @@
(def error (tf/square (tf/sub y line-of-best-fit)))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;gorilla-test.core/error</span>","value":"#'gorilla-test.core/error"}
;; <=

;; @@
(run (tf/mean error) {:x xs :y ys})
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-unkown'>59.629993</span>","value":"59.629993"}
;; <=

;; @@
(doseq [datum (take 15 (cycle (map #(hash-map :x %1 :y %2) xs ys)))]
  
  (run
    (optimizers/gradient-descent error :learning-rate 0.4)
    datum))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; @@
(run (tf/mean error) {:x xs :y ys})
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-unkown'>2.6013664E-5</span>","value":"2.6013664E-5"}
;; <=

;; @@
(run m)
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-unkown'>5.0057683</span>","value":"5.0057683"}
;; <=

;; @@
(run b)
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-unkown'>2.4922743</span>","value":"2.4922743"}
;; <=

;; @@
(let [m (run m) b (run b)]
  (plot/compose
    (plot/list-plot ys)
    (plot/plot #(+ b (* m %)) [0 10])))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"top":10,"left":55,"bottom":40,"right":10},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"ea7e699f-dec4-479f-a065-31fdc5a3cd1c","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"ea7e699f-dec4-479f-a065-31fdc5a3cd1c","field":"data.y"}}],"axes":[{"type":"x","scale":"x"},{"type":"y","scale":"y"}],"data":[{"name":"ea7e699f-dec4-479f-a065-31fdc5a3cd1c","values":[{"x":0,"y":2.5},{"x":1,"y":7.5},{"x":2,"y":12.5}]},{"name":"a16b7cb6-d4db-4283-b0a8-f258186bb270","values":[{"x":0,"y":2.492274284362793},{"x":0.10000000149011612,"y":2.9928511217322473},{"x":0.20000000298023224,"y":3.4934279591017017},{"x":0.30000000447034836,"y":3.994004796471156},{"x":0.4000000059604645,"y":4.49458163384061},{"x":0.5000000074505806,"y":4.995158471210065},{"x":0.6000000089406967,"y":5.495735308579519},{"x":0.7000000104308128,"y":5.996312145948973},{"x":0.800000011920929,"y":6.496888983318428},{"x":0.9000000134110451,"y":6.997465820687882},{"x":1.0000000149011612,"y":7.4980426580573365},{"x":1.1000000163912773,"y":7.998619495426791},{"x":1.2000000178813934,"y":8.499196332796245},{"x":1.3000000193715096,"y":8.9997731701657},{"x":1.4000000208616257,"y":9.500350007535154},{"x":1.5000000223517418,"y":10.000926844904608},{"x":1.600000023841858,"y":10.501503682274063},{"x":1.700000025331974,"y":11.002080519643517},{"x":1.8000000268220901,"y":11.502657357012971},{"x":1.9000000283122063,"y":12.003234194382426},{"x":2.0000000298023224,"y":12.50381103175188},{"x":2.1000000312924385,"y":13.004387869121334},{"x":2.2000000327825546,"y":13.504964706490789},{"x":2.3000000342726707,"y":14.005541543860243},{"x":2.400000035762787,"y":14.506118381229697},{"x":2.500000037252903,"y":15.006695218599152},{"x":2.600000038743019,"y":15.507272055968606},{"x":2.7000000402331352,"y":16.00784889333806},{"x":2.8000000417232513,"y":16.508425730707515},{"x":2.9000000432133675,"y":17.00900256807697},{"x":3.0000000447034836,"y":17.509579405446424},{"x":3.1000000461935997,"y":18.010156242815878},{"x":3.200000047683716,"y":18.510733080185332},{"x":3.300000049173832,"y":19.011309917554787},{"x":3.400000050663948,"y":19.51188675492424},{"x":3.500000052154064,"y":20.012463592293695},{"x":3.6000000536441803,"y":20.51304042966315},{"x":3.7000000551342964,"y":21.013617267032604},{"x":3.8000000566244125,"y":21.51419410440206},{"x":3.9000000581145287,"y":22.014770941771513},{"x":4.000000059604645,"y":22.515347779140967},{"x":4.100000061094761,"y":23.01592461651042},{"x":4.200000062584877,"y":23.516501453879876},{"x":4.300000064074993,"y":24.01707829124933},{"x":4.400000065565109,"y":24.517655128618784},{"x":4.500000067055225,"y":25.01823196598824},{"x":4.6000000685453415,"y":25.518808803357693},{"x":4.700000070035458,"y":26.019385640727148},{"x":4.800000071525574,"y":26.519962478096602},{"x":4.90000007301569,"y":27.020539315466056},{"x":5.000000074505806,"y":27.52111615283551},{"x":5.100000075995922,"y":28.021692990204965},{"x":5.200000077486038,"y":28.52226982757442},{"x":5.300000078976154,"y":29.022846664943874},{"x":5.4000000804662704,"y":29.523423502313328},{"x":5.500000081956387,"y":30.024000339682782},{"x":5.600000083446503,"y":30.524577177052237},{"x":5.700000084936619,"y":31.02515401442169},{"x":5.800000086426735,"y":31.525730851791145},{"x":5.900000087916851,"y":32.0263076891606},{"x":6.000000089406967,"y":32.526884526530054},{"x":6.100000090897083,"y":33.027461363899505},{"x":6.200000092387199,"y":33.52803820126896},{"x":6.3000000938773155,"y":34.02861503863842},{"x":6.400000095367432,"y":34.52919187600787},{"x":6.500000096857548,"y":35.02976871337732},{"x":6.600000098347664,"y":35.53034555074678},{"x":6.70000009983778,"y":36.03092238811624},{"x":6.800000101327896,"y":36.53149922548569},{"x":6.900000102818012,"y":37.03207606285514},{"x":7.000000104308128,"y":37.5326529002246},{"x":7.1000001057982445,"y":38.033229737594056},{"x":7.200000107288361,"y":38.533806574963506},{"x":7.300000108778477,"y":39.03438341233296},{"x":7.400000110268593,"y":39.534960249702415},{"x":7.500000111758709,"y":40.03553708707187},{"x":7.600000113248825,"y":40.536113924441324},{"x":7.700000114738941,"y":41.036690761810775},{"x":7.800000116229057,"y":41.53726759918023},{"x":7.900000117719173,"y":42.03784443654969},{"x":8.00000011920929,"y":42.53842127391914},{"x":8.100000120699406,"y":43.03899811128859},{"x":8.200000122189522,"y":43.53957494865805},{"x":8.300000123679638,"y":44.04015178602751},{"x":8.400000125169754,"y":44.54072862339696},{"x":8.50000012665987,"y":45.04130546076641},{"x":8.600000128149986,"y":45.54188229813587},{"x":8.700000129640102,"y":46.042459135505325},{"x":8.800000131130219,"y":46.543035972874776},{"x":8.900000132620335,"y":47.04361281024423},{"x":9.00000013411045,"y":47.544189647613685},{"x":9.100000135600567,"y":48.04476648498314},{"x":9.200000137090683,"y":48.54534332235259},{"x":9.300000138580799,"y":49.045920159722044},{"x":9.400000140070915,"y":49.5464969970915},{"x":9.500000141561031,"y":50.04707383446096},{"x":9.600000143051147,"y":50.54765067183041},{"x":9.700000144541264,"y":51.04822750919986},{"x":9.80000014603138,"y":51.54880434656932},{"x":9.900000147521496,"y":52.04938118393878}]}],"marks":[{"type":"symbol","from":{"data":"ea7e699f-dec4-479f-a065-31fdc5a3cd1c"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"a16b7cb6-d4db-4283-b0a8-f258186bb270"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:top 10, :left 55, :bottom 40, :right 10}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"ea7e699f-dec4-479f-a065-31fdc5a3cd1c\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"ea7e699f-dec4-479f-a065-31fdc5a3cd1c\", :field \"data.y\"}}], :axes [{:type \"x\", :scale \"x\"} {:type \"y\", :scale \"y\"}], :data ({:name \"ea7e699f-dec4-479f-a065-31fdc5a3cd1c\", :values ({:x 0, :y 2.5} {:x 1, :y 7.5} {:x 2, :y 12.5})} {:name \"a16b7cb6-d4db-4283-b0a8-f258186bb270\", :values ({:x 0, :y 2.492274284362793} {:x 0.10000000149011612, :y 2.9928511217322473} {:x 0.20000000298023224, :y 3.4934279591017017} {:x 0.30000000447034836, :y 3.994004796471156} {:x 0.4000000059604645, :y 4.49458163384061} {:x 0.5000000074505806, :y 4.995158471210065} {:x 0.6000000089406967, :y 5.495735308579519} {:x 0.7000000104308128, :y 5.996312145948973} {:x 0.800000011920929, :y 6.496888983318428} {:x 0.9000000134110451, :y 6.997465820687882} {:x 1.0000000149011612, :y 7.4980426580573365} {:x 1.1000000163912773, :y 7.998619495426791} {:x 1.2000000178813934, :y 8.499196332796245} {:x 1.3000000193715096, :y 8.9997731701657} {:x 1.4000000208616257, :y 9.500350007535154} {:x 1.5000000223517418, :y 10.000926844904608} {:x 1.600000023841858, :y 10.501503682274063} {:x 1.700000025331974, :y 11.002080519643517} {:x 1.8000000268220901, :y 11.502657357012971} {:x 1.9000000283122063, :y 12.003234194382426} {:x 2.0000000298023224, :y 12.50381103175188} {:x 2.1000000312924385, :y 13.004387869121334} {:x 2.2000000327825546, :y 13.504964706490789} {:x 2.3000000342726707, :y 14.005541543860243} {:x 2.400000035762787, :y 14.506118381229697} {:x 2.500000037252903, :y 15.006695218599152} {:x 2.600000038743019, :y 15.507272055968606} {:x 2.7000000402331352, :y 16.00784889333806} {:x 2.8000000417232513, :y 16.508425730707515} {:x 2.9000000432133675, :y 17.00900256807697} {:x 3.0000000447034836, :y 17.509579405446424} {:x 3.1000000461935997, :y 18.010156242815878} {:x 3.200000047683716, :y 18.510733080185332} {:x 3.300000049173832, :y 19.011309917554787} {:x 3.400000050663948, :y 19.51188675492424} {:x 3.500000052154064, :y 20.012463592293695} {:x 3.6000000536441803, :y 20.51304042966315} {:x 3.7000000551342964, :y 21.013617267032604} {:x 3.8000000566244125, :y 21.51419410440206} {:x 3.9000000581145287, :y 22.014770941771513} {:x 4.000000059604645, :y 22.515347779140967} {:x 4.100000061094761, :y 23.01592461651042} {:x 4.200000062584877, :y 23.516501453879876} {:x 4.300000064074993, :y 24.01707829124933} {:x 4.400000065565109, :y 24.517655128618784} {:x 4.500000067055225, :y 25.01823196598824} {:x 4.6000000685453415, :y 25.518808803357693} {:x 4.700000070035458, :y 26.019385640727148} {:x 4.800000071525574, :y 26.519962478096602} {:x 4.90000007301569, :y 27.020539315466056} {:x 5.000000074505806, :y 27.52111615283551} {:x 5.100000075995922, :y 28.021692990204965} {:x 5.200000077486038, :y 28.52226982757442} {:x 5.300000078976154, :y 29.022846664943874} {:x 5.4000000804662704, :y 29.523423502313328} {:x 5.500000081956387, :y 30.024000339682782} {:x 5.600000083446503, :y 30.524577177052237} {:x 5.700000084936619, :y 31.02515401442169} {:x 5.800000086426735, :y 31.525730851791145} {:x 5.900000087916851, :y 32.0263076891606} {:x 6.000000089406967, :y 32.526884526530054} {:x 6.100000090897083, :y 33.027461363899505} {:x 6.200000092387199, :y 33.52803820126896} {:x 6.3000000938773155, :y 34.02861503863842} {:x 6.400000095367432, :y 34.52919187600787} {:x 6.500000096857548, :y 35.02976871337732} {:x 6.600000098347664, :y 35.53034555074678} {:x 6.70000009983778, :y 36.03092238811624} {:x 6.800000101327896, :y 36.53149922548569} {:x 6.900000102818012, :y 37.03207606285514} {:x 7.000000104308128, :y 37.5326529002246} {:x 7.1000001057982445, :y 38.033229737594056} {:x 7.200000107288361, :y 38.533806574963506} {:x 7.300000108778477, :y 39.03438341233296} {:x 7.400000110268593, :y 39.534960249702415} {:x 7.500000111758709, :y 40.03553708707187} {:x 7.600000113248825, :y 40.536113924441324} {:x 7.700000114738941, :y 41.036690761810775} {:x 7.800000116229057, :y 41.53726759918023} {:x 7.900000117719173, :y 42.03784443654969} {:x 8.00000011920929, :y 42.53842127391914} {:x 8.100000120699406, :y 43.03899811128859} {:x 8.200000122189522, :y 43.53957494865805} {:x 8.300000123679638, :y 44.04015178602751} {:x 8.400000125169754, :y 44.54072862339696} {:x 8.50000012665987, :y 45.04130546076641} {:x 8.600000128149986, :y 45.54188229813587} {:x 8.700000129640102, :y 46.042459135505325} {:x 8.800000131130219, :y 46.543035972874776} {:x 8.900000132620335, :y 47.04361281024423} {:x 9.00000013411045, :y 47.544189647613685} {:x 9.100000135600567, :y 48.04476648498314} {:x 9.200000137090683, :y 48.54534332235259} {:x 9.300000138580799, :y 49.045920159722044} {:x 9.400000140070915, :y 49.5464969970915} {:x 9.500000141561031, :y 50.04707383446096} {:x 9.600000143051147, :y 50.54765067183041} {:x 9.700000144541264, :y 51.04822750919986} {:x 9.80000014603138, :y 51.54880434656932} {:x 9.900000147521496, :y 52.04938118393878})}), :marks ({:type \"symbol\", :from {:data \"ea7e699f-dec4-479f-a065-31fdc5a3cd1c\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"a16b7cb6-d4db-4283-b0a8-f258186bb270\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}})}}"}
;; <=

;; @@

;; @@
